<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <title>Log - All</title>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <div id="list" class="">ERROR</div>
    </body>
    <script>
        //Counter
        fetch('https://api.lgsk.me/count')
            .then(response => response.json())
            .then(data => document.getElementById("c1").innerHTML = "<b>"+data+"<b>");
        //List
        function listIn(data) {
            var message = `<i>${data.length} logs found</i>        <table>
            <tr>
              <th>Date-Time</th>
              <th>Severity</th>
              <th>Attempt</th>
              <th>Treated</th>
              <th>Note</th>
              <th>UNX</th>
              <th>id</th>
              <th>url</th>
            </tr>`;
            data.forEach(data=> {
                message += `<tr><td>${data.hum}</td><td>${data.severity}</td><td>${data.type}</td><td>${data.treated}</td><td>${data.note}</td><td>${data.stmp}</td><td>${data.id}</td><td><a href="https://api.lgsk.me/sh/${data.id}">Here</a></td>`;
            });
            return message;
        };

        fetch('https://api.lgsk.me/sh')
            .then(response => response.json())
            .then(data => document.getElementById("list").innerHTML = listIn(data) +"</table>");
    </script>
</html>